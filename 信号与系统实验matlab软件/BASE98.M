function [ret,x0,str,ts,xts]=base98(t,x,u,flag);
%BASE98	is the M-file description of the SIMULINK system named BASE98.
%	The block-diagram can be displayed by typing: BASE98.
%
%	SYS=BASE98(T,X,U,FLAG) returns depending on FLAG certain
%	system values given time point, T, current state vector, X,
%	and input vector, U.
%	FLAG is used to indicate the type of output to be returned in SYS.
%
%	Setting FLAG=1 causes BASE98 to return state derivatives, FLAG=2
%	discrete states, FLAG=3 system outputs and FLAG=4 next sample
%	time. For more information and other options see SFUNC.
%
%	Calling BASE98 with a FLAG of zero:
%	[SIZES]=BASE98([],[],[],0),  returns a vector, SIZES, which
%	contains the sizes of the state vector and other parameters.
%		SIZES(1) number of states
%		SIZES(2) number of discrete states
%		SIZES(3) number of outputs
%		SIZES(4) number of inputs
%		SIZES(5) number of roots (currently unsupported)
%		SIZES(6) direct feedthrough flag
%		SIZES(7) number of sample times
%
%	For the definition of other parameters in SIZES, see SFUNC.
%	See also, TRIM, LINMOD, LINSIM, EULER, RK23, RK45, ADAMS, GEAR.

% Note: This M-file is only used for saving graphical information;
%       after the model is loaded into memory an internal model
%       representation is used.

% the system will take on the name of this mfile:
sys = mfilename;
new_system(sys)
simver(1.3)
if (0 == (nargin + nargout))
     set_param(sys,'Location',[107,59,481,229])
     open_system(sys)
end;
set_param(sys,'algorithm',     'RK-45')
set_param(sys,'Start time',    '0.0')
set_param(sys,'Stop time',     '999999')
set_param(sys,'Min step size', '0.0001')
set_param(sys,'Max step size', '10')
set_param(sys,'Relative error','1e-3')
set_param(sys,'Return vars',   '')


%     Subsystem  '常用模块'.

new_system([sys,'/','常用模块'])
set_param([sys,'/','常用模块'],'Location',[-10,380,117,533])
set_param([sys,'/','常用模块'],...
		'Mask Display','模块库',...
		'Mask Dialogue','eval(''axzblock'')')


%     Finished composite block '常用模块'.

set_param([sys,'/','常用模块'],...
		'Font Name','宋体',...
		'Font Size',12,...
		'position',[215,34,280,96])


%     Subsystem  ['毕业设计 ''98'].

new_system([sys,'/',['毕业设计 ''98']])
set_param([sys,'/',['毕业设计 ''98']],'Location',[23,42,382,449])

add_block('built-in/Transfer Fcn',[sys,'/',['毕业设计 ''98/单元7']])
set_param([sys,'/',['毕业设计 ''98/单元7']],...
		'Font Name','宋体',...
		'Font Size',12,...
		'Drop Shadow',4,...
		'Denominator','[L*C R*C 1]')
set_param([sys,'/',['毕业设计 ''98/单元7']],...
		'Mask Display','plot([3 5 5 5],[2 2 1.5 2.5],[5 9],[2.5 2.5],[5 9],[1.5 1.5],[9 9],[2.5 1.5],[9 11],[2 2],[11:1/7:12],[2 2.5 2.707 2.866 2.866 2.707 2.5 2],[12:1/7:13],[2 2.5 2.707 2.866 2.866 2.707 2.5 2],[13:1/7:14],[2 2.5 2.707 2.866 2.866 2.707 2.5 2],[14:1/7:15],[2 2.5 2.707 2.866 2.866 2.707 2.5 2],[15 21],[2 2],[18 18 16 20],[2 0 0 0],[16 20],[-1 -1],[18 18 17 19],[-1 -3 -3 -3]);')
set_param([sys,'/',['毕业设计 ''98/单元7']],...
		'Mask Type',' 单元7',...
		'Mask Dialogue',' 单元7|电阻值（欧）：|电感值（亨）：|电容值（法）：',...
		'Mask Translate','R=@1;L=@2;C=@3;',...
		'Mask Entries','1\/1\/1\/')
set_param([sys,'/',['毕业设计 ''98/单元7']],...
		'position',[140,295,260,345])

add_block('built-in/Transfer Fcn',[sys,'/',['毕业设计 ''98/单元6']])
set_param([sys,'/',['毕业设计 ''98/单元6']],...
		'Font Name','宋体',...
		'Font Size',12,...
		'Drop Shadow',4,...
		'Numerator','[R]',...
		'Denominator','[R*C R+1]')
set_param([sys,'/',['毕业设计 ''98/单元6']],...
		'Mask Display','plot([0 15],[2 2],[8 8 6 10],[2 0 0 0],[6 10],[-1 -1],[8 8 7 9],[-1 -4 -4 -4],[12.5 12.5 12 13],[2 1 1 1],[12 12],[1 -3],[13 13],[1 -3],[12 13 12.5 12.5],[-3 -3 -3 -4],[12 13],[-4 -4]);')
set_param([sys,'/',['毕业设计 ''98/单元6']],...
		'Mask Type','单元6',...
		'Mask Dialogue','单元6|电阻值（欧）：|电容值（法）：',...
		'Mask Translate','R=@1;C=@2;',...
		'Mask Entries','1\/1\/',...
		'position',[140,223,245,267])


%     Subsystem  ['毕业设计 ''98/Diode'].

new_system([sys,'/',['毕业设计 ''98/Diode']])
set_param([sys,'/',['毕业设计 ''98/Diode']],'Location',[4,207,504,457])

add_block('built-in/Gain',[sys,'/',['毕业设计 ''98/Diode/Gain']])
set_param([sys,'/',['毕业设计 ''98/Diode/Gain']],...
		'Gain','1/2',...
		'position',[340,117,365,143])

add_block('built-in/Sum',[sys,'/',['毕业设计 ''98/Diode/Sum']])
set_param([sys,'/',['毕业设计 ''98/Diode/Sum']],...
		'position',[270,120,290,140])

add_block('built-in/Product',[sys,'/',['毕业设计 ''98/Diode/Product']])
set_param([sys,'/',['毕业设计 ''98/Diode/Product']],...
		'position',[195,123,225,147])


%     Subsystem  ['毕业设计 ''98/Diode/Sign'].

new_system([sys,'/',['毕业设计 ''98/Diode/Sign']])
set_param([sys,'/',['毕业设计 ''98/Diode/Sign']],'Location',[159,289,467,458])

add_block('built-in/Outport',[sys,'/',['毕业设计 ''98/Diode/Sign/out_1']])
set_param([sys,'/',['毕业设计 ''98/Diode/Sign/out_1']],...
		'position',[265,70,285,90])

add_block('built-in/Inport',[sys,'/',['毕业设计 ''98/Diode/Sign/in_1']])
set_param([sys,'/',['毕业设计 ''98/Diode/Sign/in_1']],...
		'position',[35,30,55,50])

add_block('built-in/Relational Operator',[sys,'/',['毕业设计 ''98/Diode/Sign/Relational',13,'Operator']])
set_param([sys,'/',['毕业设计 ''98/Diode/Sign/Relational',13,'Operator']],...
		'Operator','>',...
		'position',[140,32,170,63])

add_block('built-in/Sum',[sys,'/',['毕业设计 ''98/Diode/Sign/Sum']])
set_param([sys,'/',['毕业设计 ''98/Diode/Sign/Sum']],...
		'inputs','+-',...
		'position',[215,64,235,91])

add_block('built-in/Relational Operator',[sys,'/',['毕业设计 ''98/Diode/Sign/Relational',13,'Operator1']])
set_param([sys,'/',['毕业设计 ''98/Diode/Sign/Relational',13,'Operator1']],...
		'Operator','<',...
		'position',[140,92,170,123])

add_block('built-in/Constant',[sys,'/',['毕业设计 ''98/Diode/Sign/Constant']])
set_param([sys,'/',['毕业设计 ''98/Diode/Sign/Constant']],...
		'Value','0',...
		'position',[65,105,85,125])
add_line([sys,'/',['毕业设计 ''98/Diode/Sign']],[60,40;135,40])
add_line([sys,'/',['毕业设计 ''98/Diode/Sign']],[95,40;95,100;135,100])
add_line([sys,'/',['毕业设计 ''98/Diode/Sign']],[90,115;135,115])
add_line([sys,'/',['毕业设计 ''98/Diode/Sign']],[110,115;110,55;135,55])
add_line([sys,'/',['毕业设计 ''98/Diode/Sign']],[175,110;185,110;185,85;210,85])
add_line([sys,'/',['毕业设计 ''98/Diode/Sign']],[175,50;185,50;185,70;210,70])
add_line([sys,'/',['毕业设计 ''98/Diode/Sign']],[240,80;260,80])
set_param([sys,'/',['毕业设计 ''98/Diode/Sign']],...
		'Mask Display','plot(-50,-50,50,50,[-50,50],[0,0],[0,0],[-50,50],[-40,0],[-30,-30],[0,40],[30,30])',...
		'Mask Type','Sign',...
		'Mask Dialogue','y = sign(x)')
set_param([sys,'/',['毕业设计 ''98/Diode/Sign']],...
		'Mask Help','Sign Function:\n\t\t\ty = 1 if x > 0\n\t\t\ty = 0 if x = 0\n\t\t\ty = -1 if x < 0')


%     Finished composite block ['毕业设计 ''98/Diode/Sign'].

set_param([sys,'/',['毕业设计 ''98/Diode/Sign']],...
		'position',[120,117,150,143])

add_block('built-in/Outport',[sys,'/',['毕业设计 ''98/Diode/out_1']])
set_param([sys,'/',['毕业设计 ''98/Diode/out_1']],...
		'position',[395,120,415,140])

add_block('built-in/Inport',[sys,'/',['毕业设计 ''98/Diode/in_1']])
set_param([sys,'/',['毕业设计 ''98/Diode/in_1']],...
		'position',[70,120,90,140])
add_line([sys,'/',['毕业设计 ''98/Diode']],[295,130;335,130])
add_line([sys,'/',['毕业设计 ''98/Diode']],[95,130;100,90;245,90;245,125;265,125])
add_line([sys,'/',['毕业设计 ''98/Diode']],[230,135;265,135])
add_line([sys,'/',['毕业设计 ''98/Diode']],[95,130;100,180;170,180;170,140;190,140])
add_line([sys,'/',['毕业设计 ''98/Diode']],[155,130;190,130])
add_line([sys,'/',['毕业设计 ''98/Diode']],[370,130;390,130])
add_line([sys,'/',['毕业设计 ''98/Diode']],[95,130;115,130])
set_param([sys,'/',['毕业设计 ''98/Diode']],...
		'Mask Display','plot([0 2 2 2],[0 0 2 -2],[2 4],[2 0],[2 4],[-2 0],[4 4 4 6],[-2 2 0 0]);',...
		'Mask Type','二极管',...
		'Mask Dialogue','二极管')


%     Finished composite block ['毕业设计 ''98/Diode'].

set_param([sys,'/',['毕业设计 ''98/Diode']],...
		'Font Name','宋体',...
		'Font Size',12,...
		'Drop Shadow',4,...
		'position',[140,153,175,177])

add_block('built-in/Transfer Fcn',[sys,'/',['毕业设计 ''98/Transfer Fcn3']])
set_param([sys,'/',['毕业设计 ''98/Transfer Fcn3']],...
		'Font Name','宋体',...
		'Font Size',12,...
		'Denominator','[1 1]',...
		'position',[190,627,225,663])

add_block('built-in/Note',[sys,'/',['毕业设计 ''98/毕业设计单元库']])
set_param([sys,'/',['毕业设计 ''98/毕业设计单元库']],...
		'Font Name','楷体_GB2312',...
		'Font Weight','bold',...
		'Font Size',14,...
		'position',[165,15,170,20])

add_block('built-in/Transfer Fcn',[sys,'/',['毕业设计 ''98/单元5']])
set_param([sys,'/',['毕业设计 ''98/单元5']],...
		'Font Name','宋体',...
		'Font Size',12,...
		'Drop Shadow',4,...
		'Denominator','[L*C1*C2*R L*C2 R*(C1+C2) 1]')
set_param([sys,'/',['毕业设计 ''98/单元5']],...
		'Mask Display','plot([0 2 2 2],[2 2 1.5 2.5],[2 6],[2.5 2.5],[2 6],[1.5 1.5],[6 6],[2.5 1.5],[6 11],[2 2],[8 8 6 10],[2 0 0 0],[6 10],[-1 -1],[8 8 7 9],[-1 -3 -3 -3],[11:1/7:12],[2 2.5 2.707 2.866 2.866 2.707 2.5 2],[12:1/7:13],[2 2.5 2.707 2.866 2.866 2.707 2.5 2],[13:1/7:14],[2 2.5 2.707 2.866 2.866 2.707 2.5 2],[14:1/7:15],[2 2.5 2.707 2.866 2.866 2.707 2.5 2],[15 21],[2 2],[18 18 16 20],[2 0 0 0],[16 20],[-1 -1],[18 18 17 19],[-1 -3 -3 -3]);R     C1     L      C2')
set_param([sys,'/',['毕业设计 ''98/单元5']],...
		'Mask Type','单元5',...
		'Mask Dialogue','单元5|电阻R（欧）：|电容C1（法）：|电感L（亨）：|电容C2（法）：',...
		'Mask Translate','R=@1;C1=@2;L=@3;C2=@4;',...
		'Mask Entries','1\/1\/1\/1\/')
set_param([sys,'/',['毕业设计 ''98/单元5']],...
		'position',[140,64,310,116])

add_block('built-in/Transfer Fcn',[sys,'/',['毕业设计 ''98/单元3']])
set_param([sys,'/',['毕业设计 ''98/单元3']],...
		'Font Name','宋体',...
		'Font Size',12,...
		'Drop Shadow',4,...
		'Numerator','[R]',...
		'Denominator','[L R]')
set_param([sys,'/',['毕业设计 ''98/单元3']],...
		'Mask Display','plot([0 1],[1 1],[1:1/7:2],[1 1.5 1.707 1.866 1.866 1.707 1.5 1],[2:1/7:3],[1 1.5 1.707 1.866 1.866 1.707 1.5 1],[3:1/7:4],[1 1.5 1.707 1.866 1.866 1.707 1.5 1],[4:1/7:5],[1 1.5 1.707 1.866 1.866 1.707 1.5 1],[5 8],[1 1],[6.5 6.5 6 7],[1 0 0 0],[6 6],[0 -4],[7 7],[0 -4],[6 7 6.5 6.5],[-4 -4 -4 -5.5],[6 7],[-5.5 -5.5])')
set_param([sys,'/',['毕业设计 ''98/单元3']],...
		'Mask Type','单元3',...
		'Mask Dialogue','单元3|电感量（亨）：|电阻值（欧）：',...
		'Mask Translate','L=@1;R=@2;',...
		'Mask Entries','1\/1\/',...
		'position',[40,223,105,267])

add_block('built-in/Transfer Fcn',[sys,'/',['毕业设计 ''98/单元4']])
set_param([sys,'/',['毕业设计 ''98/单元4']],...
		'Font Name','宋体',...
		'Font Size',12,...
		'Drop Shadow',4,...
		'Denominator','[L*C 0 1]')
set_param([sys,'/',['毕业设计 ''98/单元4']],...
		'Mask Display','plot([0 1],[1 1],[1:1/7:2],[1 1.5 1.707 1.866 1.866 1.707 1.5 1],[2:1/7:3],[1 1.5 1.707 1.866 1.866 1.707 1.5 1],[3:1/7:4],[1 1.5 1.707 1.866 1.866 1.707 1.5 1],[4:1/7:5],[1 1.5 1.707 1.866 1.866 1.707 1.5 1],[5 11],[1 1],[8 8 6 10],[1 -1 -1 -1],[6 10],[-2 -2],[8 8 7 9],[-2 -4 -4 -4]);')
set_param([sys,'/',['毕业设计 ''98/单元4']],...
		'Mask Type','单元4',...
		'Mask Dialogue','单元4|电感量（亨）：|电容量（法）：',...
		'Mask Translate','L=@1;C=@2;',...
		'Mask Entries','1\/1\/',...
		'position',[40,299,105,341])

add_block('built-in/Transfer Fcn',[sys,'/',['毕业设计 ''98/单元2']])
set_param([sys,'/',['毕业设计 ''98/单元2']],...
		'Font Name','宋体',...
		'Font Size',12,...
		'Drop Shadow',4,...
		'Numerator','[R*C 0]',...
		'Denominator','[R*C 1]')
set_param([sys,'/',['毕业设计 ''98/单元2']],...
		'Mask Display','plot([0 2 2 2],[2 2 0 4],[3 3 3 8],[0 4 2 2],[6 6 5.5 6.5],[2 0 0 0],[5.5 5.5],[0 -4],[6.5 6.5],[0 -4],[5.5 6.5 6 6],[-4 -4 -4 -5.5],[5.5 6.5],[-5.5 -5.5]);')
set_param([sys,'/',['毕业设计 ''98/单元2']],...
		'Mask Type','微分',...
		'Mask Dialogue','微分|电容量（法）：|电阻值（欧姆）：',...
		'Mask Translate','C=@1;R=@2;',...
		'Mask Entries','1\/1\/',...
		'position',[40,143,105,187])

add_block('built-in/Transfer Fcn',[sys,'/',['毕业设计 ''98/单元1']])
set_param([sys,'/',['毕业设计 ''98/单元1']],...
		'Font Name','宋体',...
		'Font Size',12,...
		'Drop Shadow',4,...
		'Denominator','[R*C 1]')
set_param([sys,'/',['毕业设计 ''98/单元1']],...
		'Mask Display','plot([0 2 2 2],[2 2 1.5 2.5],[2 6],[2.5 2.5],[2 6],[1.5 1.5],[6 6],[2.5 1.5],[6 11],[2 2],[8 8 6 10],[2 0 0 0],[6 10],[-1 -1],[8 8 7 9],[-1 -3 -3 -3]);',...
		'Mask Type','积分')
set_param([sys,'/',['毕业设计 ''98/单元1']],...
		'Mask Dialogue','积分|电容量（法）：|电阻值（欧姆）：',...
		'Mask Translate','C=@1;R=@2;',...
		'Mask Entries','1\/1\/',...
		'position',[40,64,105,106])


%     Subsystem  ['毕业设计 ''98/频谱分析仪'].

new_system([sys,'/',['毕业设计 ''98/频谱分析仪']])
set_param([sys,'/',['毕业设计 ''98/频谱分析仪']],'Location',[130,212,390,362])

add_block('built-in/Inport',[sys,'/',['毕业设计 ''98/频谱分析仪/in_1']])
set_param([sys,'/',['毕业设计 ''98/频谱分析仪/in_1']],...
		'position',[30,65,50,85])

add_block('built-in/S-Function',[sys,'/',['毕业设计 ''98/频谱分析仪/S-function block ',13,'which calls M-file']])
set_param([sys,'/',['毕业设计 ''98/频谱分析仪/S-function block ',13,'which calls M-file']],...
		'function name','sfunfs',...
		'parameters','fftpts,npts,HowOften,offset,ts',...
		'position',[140,56,190,94])
add_line([sys,'/',['毕业设计 ''98/频谱分析仪']],[55,75;135,75])
set_param([sys,'/',['毕业设计 ''98/频谱分析仪']],...
		'Mask Display','plot(0,0,100,100,[14,91,91,14,14],[86,86,40,40,86],[85,82,80,79,75,67,63,60,57,53,41,36,33,27,24],[49,50,53,50,49,51,54,66,54,50,50,52,81,51,49])')
set_param([sys,'/',['毕业设计 ''98/频谱分析仪']],...
		'Mask Type','频谱分析仪',...
		'Mask Dialogue','频谱分析仪（利用图形窗口显示实时结果）|缓冲区长度：|进行 FFT 运算的点数：|在多少点后画图：|采样周期：')
set_param([sys,'/',['毕业设计 ''98/频谱分析仪']],...
		'Mask Translate','npts=@1; fftpts=@2; HowOften=@3; ts=@4(1); if length(@4) > 1, offset = @4(2), else, offset = 0; end')
set_param([sys,'/',['毕业设计 ''98/频谱分析仪']],...
		'Mask Help','当把该模块连接到一个系统的输出时，将以图形窗口的方式显示出信号的频谱图。',...
		'Mask Entries','1024\/1024\/64\/0.01\/')


%     Finished composite block ['毕业设计 ''98/频谱分析仪'].

set_param([sys,'/',['毕业设计 ''98/频谱分析仪']],...
		'Font Name','宋体',...
		'Font Size',12,...
		'Drop Shadow',4,...
		'position',[295,142,330,188])

add_block('built-in/MATLAB Fcn',[sys,'/',['毕业设计 ''98/二分频']])
set_param([sys,'/',['毕业设计 ''98/二分频']],...
		'ForeGround',5,...
		'Font Name','宋体',...
		'Font Size',12,...
		'MATLAB Fcn','df2(u,m)',...
		'Mask Display','Frequency\n―――――\n2',...
		'Mask Type','分频器')
set_param([sys,'/',['毕业设计 ''98/二分频']],...
		'Mask Dialogue','二分频器|判决区间：',...
		'Mask Translate','m=@1;',...
		'Mask Entries','100\/',...
		'position',[200,146,270,184])


%     Finished composite block ['毕业设计 ''98'].

set_param([sys,'/',['毕业设计 ''98']],...
		'Font Name','宋体',...
		'Font Size',12,...
		'position',[75,41,105,91])

drawnow

% Return any arguments.
if (nargin | nargout)
	% Must use feval here to access system in memory
	if (nargin > 3)
		if (flag == 0)
			eval(['[ret,x0,str,ts,xts]=',sys,'(t,x,u,flag);'])
		else
			eval(['ret =', sys,'(t,x,u,flag);'])
		end
	else
		[ret,x0,str,ts,xts] = feval(sys);
	end
else
	drawnow % Flash up the model and execute load callback
end
